#!/usr/bin/python3
import os

def traversal_path(replace_dir,path,old_list=[]):
    '''
    遍历文件夹，返回一个列表，列表中存放所有遍历出的文件的全路径
    '''
    real_path = path  # 绝对路径
    path = path.replace(replace_dir,"") # 相对路径
    if not os.path.isdir(real_path):
        # 如果这不是一个文件夹，是个文件 , 存入列表当中
        old_list.append(path) # 存入文件的相对路径
        return 
    # 如果这是一个文件夹
    for file in os.listdir(real_path): # 递归查找
        try:
            traversal_path(replace_dir,os.path.join(real_path,file),old_list)
        except PermissionError:
            continue
    # 最后通过列表返回所有的文件内容
    return old_list

if __name__ == "__main__":
    for file_name in traversal_path(os.getcwd(),os.getcwd(),[]):
        # print("sudo rm -r \"{}\"".format(file_name))
        file_name = file_name.replace("$","\$")
        print("rm \"{}\"".format(file_name))
